<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supabase Test</title>
</head>
<body>
    <h1>Supabase Library Test</h1>
    <div id="status">Loading...</div>
    
    <script src="https://cdn.skypack.dev/@supabase/supabase-js@2"></script>
    <script>
        window.addEventListener('load', function() {
            const statusDiv = document.getElementById('status');
            
            setTimeout(() => {
                if (typeof window.supabase !== 'undefined') {
                    statusDiv.innerHTML = '✅ Supabase library geladen!';
                    statusDiv.style.color = 'green';
                    
                    // Test client creation
                    try {
                        const client = window.supabase.createClient(
                            'https://tmqnpdtbldewusevrgxc.supabase.co',
                            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRtcW5wZHRibGRld3VzZXZyZ3hjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg0NTYzNDMsImV4cCI6MjA3NDAzMjM0M30.0YsgPSlp-_Egj72t7e5wZRIWxQWXIouvGY_jXHLS1Ys'
                        );
                        console.log('✅ Supabase client aangemaakt:', client);
                        
                        // Test database connection
                        client.from('rooms').select('count').limit(1).then(result => {
                            console.log('Database test result:', result);
                            if (result.error) {
                                statusDiv.innerHTML += '<br>⚠️ Database verbinding gefaald (tabel bestaat nog niet)';
                                statusDiv.style.color = 'orange';
                            } else {
                                statusDiv.innerHTML += '<br>✅ Database verbinding succesvol!';
                            }
                        });
                        
                    } catch (error) {
                        statusDiv.innerHTML += '<br>❌ Client creation gefaald: ' + error.message;
                        statusDiv.style.color = 'red';
                    }
                    
                } else {
                    statusDiv.innerHTML = '❌ Supabase library niet geladen';
                    statusDiv.style.color = 'red';
                }
            }, 1000);
        });
    </script>
</body>
</html>
